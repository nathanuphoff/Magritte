"use strict";function assign(){for(var e=arguments,t=e[0],n=e.length,r=0;++r<n;){var o=e[r];for(var i in o)t[i]=o[i]}return t}function createPropertyHandlers(e){var t={methods:{},pattern:e};return function(n){var r=assign(t.methods,n),o=Object.keys(r).join("|"),i=o?new RegExp("^"+o):e;return assign(t,{methods:r,pattern:i})}}function freezeModelToState(e){var t={};for(var n in e){var r=e[n];t[n]=("undefined"==typeof r?"undefined":_typeof(r))==functionType?r.next:freezeModelToState(r)}return freeze(t)}function isContent(e){return e===_null||("undefined"==typeof e?"undefined":_typeof(e))==stringType||("undefined"==typeof e?"undefined":_typeof(e))==numberType&&!_isNaN(e)}function getStoreContentKind(e,t){return t="undefined"==typeof e?"undefined":_typeof(e),isContent(e)?t=contentType:isArray(e)&&(t=ArrayType),t}function isBoolean(e){return("undefined"==typeof e?"undefined":_typeof(e))==booleanType}function isPlainObject(e){return("undefined"==typeof e?"undefined":_typeof(e))!=stringType&&"[object Object]"==e}function slice(e){return[].slice.call(e,0)}function toLowerCase(e){return e.toLowerCase(e)}function compose(){var e=slice(arguments);return function(){return e.concat(slice(arguments))}}function element(){return arguments}function resolveChild(e,t,n,r,o){for(n="undefined"==typeof e?"undefined":_typeof(e);n==functionType;)o=e.name,e=e(t),n="undefined"==typeof e?"undefined":_typeof(e);return n!=booleanType&&(e==_null?e=_null:contentTypes[n]||_typeof(e[0])!=stringType||(n=listType)),[e,n,r,o]}function createStore(e,t){function n(t,i,a){var u={};if(isPlainObject(t)){for(var d in t){var c=a?a+"."+d:d;u[d]=n(t[d],u,c)}return u}var l=function(){var n=getStoreContentKind(t);if(n){var d=function(d){for(var c=u.next;("undefined"==typeof d?"undefined":_typeof(d))==functionType;)d=d(c);if(d===_null&&(d=u.initial),d!==_undefined&&d!==c){if(testStoreContent[n](d)){var l=i[a];return r=Date.now(),assign(l,{next:d,last:c,time:r}),assign(u,l),e({state:freezeModelToState(o),model:o})}contentWarning({value:d,expected:n,received:getStoreContentKind(t),path:a})}},c=function(e){return u.time===r};return assign(u,{next:t,last:_undefined,initial:"Array"==n?slice(t):t,time:r,path:a,kind:n,hasChanged:c}),{v:assign(d,u)}}contentWarning({value:t,expected:"content, boolean, or a list",received:getContentKind(t),path:a})}();if("object"===("undefined"==typeof l?"undefined":_typeof(l)))return l.v}var r=void 0,o=n(t);return e({state:freezeModelToState(o),model:o})}function contentWarning(e){var t=e.value,n=e.path,r=e.expected,o=e.received;o=getStoreContentKind(t),console.warn("Value “"+t+"” provided to "+n+" is of the wrong kind:",{expected:r,received:o})}function setAttribute(e,t,n,r){n==_null||n===!1?r?e.removeAttributeNS(r,t):e.removeAttribute(t):(n===!0&&(n=""),r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))}function createElement(e,t){return elementCache[e]=(elementCache[e]?elementCache[e]:t?_document.createElementNS(t,e):_document.createElement(e)).cloneNode(!1)}function renderContent(e,t,n,r){var o=!n.node||n.type,i=o?document.createTextNode(t):n.node;return n&&n.type?e.replaceChild(i,n.node):o?e.appendChild(i):n.content!==t&&(i.nodeValue=t),{node:i,content:t}}function renderAttributes(e,t,n,r){n=n||emptyObject;for(var o in t){var i=t[o];if(i!==n[o])if(attributeHandlers.pattern.test(o)){var a=o.match(attributeHandlers.pattern)[0];attributeHandlers.methods[a](e,o,i)}else r?setAttribute(e,o,i):e[o]=i}return t}function renderElement(e,t,n,r,o,i){var a=n.node===e?_null:t[0];i=i||namespaces[a];for(var u=n.name!==o||n.type!==a,d=u?createElement(a,i):n.node,c=u?[a]:n.vdom,l={},f=t.length,s=!!a-1;++s<f;){var p=resolveChild(t[s],r),y=slicedToArray(p,4),v=y[0],m=y[1],b=y[2],_=y[3],g=c[s]||emptyObject;if(v===!0){var T=transformChild(g.vdom),h=slicedToArray(T,4);v=h[0],m=h[1],b=h[2],_=h[3]}if(contentTypes[m])c[s]=renderContent(d,v,g,r);else if(m==listType)c[s]=renderElement(d,v,g,r,_,i);else if(m==objectType)if(c[s]=_null,v==_null){var C=g.node;C&&d.removeChild(C)}else assign(l,v);else c[s]=g}if(assign(l,renderAttributes(d,l,n.attributes,i)),u)e.appendChild(d);else for(;s<c.length;){var A=c[s];A.node&&d.removeChild(A.node),s++}return c.length=f,u&&l.onmount&&(d.addEventListener("mount",l.onmount,!1),d.dispatchEvent(mount)),{node:d,type:a,vdom:c,name:o,attributes:l}}function factory(){var e=arguments;return function(t,n,r){var o=_document.querySelector(t);o.innerHTML="";var i=render(o,e,{node:o,type:null,vdom:[],attributes:{}}),a=createStore(i,n);return i(a).model}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},defineProperty=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},get=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},set=function e(t,n,r,o){var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);null!==a&&e(a,n,r,o)}else if("value"in i&&i.writable)i.value=r;else{var u=i.set;void 0!==u&&u.call(o,r)}return r},slicedToArray=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_contentTypes,_Object=Object,_Array=Array,_document="undefined"!=typeof document?document:{},_isNaN=isNaN,functionType="function",booleanType="boolean",objectType="object",stringType="string",numberType="number",ArrayType="Array",listType="list",contentType="content",_undefined=void 0,_null=null,emptyObject={},contentTypes=(_contentTypes={},defineProperty(_contentTypes,stringType,1),defineProperty(_contentTypes,numberType,1),_contentTypes),namespaces={svg:"http://www.w3.org/2000/svg"},freeze=_Object.freeze,isArray=_Array.isArray,_testStoreContent,testStoreContent=(_testStoreContent={},defineProperty(_testStoreContent,ArrayType,isArray),defineProperty(_testStoreContent,contentType,isContent),defineProperty(_testStoreContent,booleanType,isBoolean),_testStoreContent),handleAttributes=createPropertyHandlers(/(?!)/),attributeHandlers=handleAttributes({aria:function(e,t,n){t=toLowerCase(t.replace(/([a-z])([A-Z])/g,"$1-$2")),setAttribute(e,t,n)},data:function(e,t,n){t=toLowerCase(t[4])+t.substr(5),e.dataset[t]=n},viewBox:setAttribute,xlink:function(e,t,n){t=toLowerCase(t.replace(/([a-z])([A-Z])/g,"$1:$2")),setAttribute(e,t,n,"http://www.w3.org/1999/xlink")}}),elementCache={},mount=_document.createEvent("Event").initEvent("mount",!0,!0),render=function(e,t,n){return function(r){return n=renderElement(e,t,n,r),r}},index=assign(factory,{compose:compose,element:element,handleAttributes:handleAttributes});module.exports=index;
